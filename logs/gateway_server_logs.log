
> ondc-gateway@1.0.0 prestart
> npm install


up to date, audited 153 packages in 1s

11 packages are looking for funding
  run `npm fund` for details

6 high severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.

> ondc-gateway@1.0.0 start
> node index.js

Sun, 18 Jun 2023 08:40:09 GMT body-parser deprecated undefined extended: provide extended option at node_modules/oas3-tools/dist/middleware/express.app.config.js:22:33
  Mock mode: disabled
WARN: Using default URL as no retail seller URL was provided.
Your server is listening on port 9080 (http://localhost:9080)
Swagger-ui is available on http://localhost:9080/docs
[0mPOST /gateway/search [33m400[0m 42.542 ms - 196[0m
in searchPOST {"context":{"domain":"nic2004:52110","country":"IND","city":"std:080","action":"search","core_version":"0.9.3","bap_id":"localhost:9090","bap_uri":"localhost:9090","transaction_id":"3e6802dc-055b-4a57-bcd4-d60d00213d8b","message_id":"c4b71e62-f51d-425a-892b-539920e945ca","timestamp":"2022-06-29T04:21:08.921Z"},"message":{"intent":{"item":{"id":"item1","price":{"currency":"INR","value":"10"},"category_id":"Packaged Commodities","fulfillment_id":"fid1","location_id":"lid1","matched":true,"@ondc/org/returnable":true,"@ondc/org/seller_pickup_return":true,"@ondc/org/return_window":"P3DT12H","@ondc/org/cancellable":true,"@ondc/org/time_to_ship":"PT12H","@ondc/org/available_on_cod":true,"@ondc/org/contact_details_consumer_care":"mobile : +91999999999","@ondc/org/statutory_reqs_packaged_commodities":{"description":"mandatory for category_id \"Packaged Commodities\" - required attributes for all include the following - manufacturer_or_packer_name, manufacturer_or_packer_address, common_or_generic_name_of_commodity, net_quantity_or_measure_of_commodity_in_pkg, month_year_of_manufacture_packing_import; other attributes are required on case-by-case basis"},"@ondc/org/statutory_reqs_prepackaged_food":{"description":"mandatory for category_id \"Packaged food\" - required attributes include the following - nutritional_info, additives_info, net_quantity; other attributes are required on case-by-case basis"},"@ondc/org/mandatory_reqs_veggies_fruits":{"description":"mandatory for category_id \"Fruits and Vegetables\" required attributes include the following - net_quantity"},"descriptor":{}},"fulfillment":{"id":"fid1","type":"Delivery","end":{"location":{}},"tracking":false},"category":{"id":"Packaged Commodities"}}}}
Body which came in lookup post is: {"domain":"nic2004:52110","country":"IND","city":"std:080","action":"search","core_version":"0.9.3","bap_id":"localhost:9090","bap_uri":"localhost:9090","transaction_id":"3e6802dc-055b-4a57-bcd4-d60d00213d8b","message_id":"c4b71e62-f51d-425a-892b-539920e945ca","timestamp":"2022-06-29T04:21:08.921Z"}
[0mPOST /gateway/search [32m200[0m 11.508 ms - -[0m
Subscriber details are: {"subscriberId":"http://localhost:9060/ONDC/ONDC-Protocol-Hyperlocal/1.0.13","ukId":"22a8a67a-76d9-459b-867c-085dda2939ec","brId":"22a8a67a-76d9-459b-867c-085dda2939ec","country":"IND","city":"std:080","domain":"nic2004:52110","signingPublicKey":"QSax2KT4UiTUWUqoVUaEcWhBcGTTNu+Sf8EMDRY1GaE=","encrPublicKey":"O74ukMymk4KZnVs3sZhU2U7RXpaZ/qiOUMk5NWt6rbI=","validFrom":"2022-04-05T05:56:52.470618Z3","validUntil":"2026-04-05T05:56:52.470618Z7","created":"2026-04-05T05:56:52.470618Z7","updated":"2026-04-05T05:56:52.470618Z7"}
Subscribe url is http://localhost:9060/ONDC/ONDC-Protocol-Hyperlocal/1.0.13
APi client is present
APi client is present - 2
confirming afain rthat api client is there.
Subscriber details are: {"subscriberId":"http://localhost:9050/ONDC/ONDC-Protocol-Hyperlocal/1.0.13","ukId":"22a8a67a-76d9-459b-867c-085dda2939ec","brId":"22a8a67a-76d9-459b-867c-085dda2939ec","country":"IND","city":"std:080","domain":"nic2004:52110","signingPublicKey":"QSax2KT4UiTUWUqoVUaEcWhBcGTTNu+Sf8EMDRY1GaE=","encrPublicKey":"O74ukMymk4KZnVs3sZhU2U7RXpaZ/qiOUMk5NWt6rbI=","validFrom":"2022-04-05T05:56:52.470618Z3","validUntil":"2026-04-05T05:56:52.470618Z7","created":"2026-04-05T05:56:52.470618Z7","updated":"2026-04-05T05:56:52.470618Z7"}
Subscribe url is http://localhost:9050/ONDC/ONDC-Protocol-Hyperlocal/1.0.13
APi client is present
APi client is present - 2
confirming afain rthat api client is there.
lookup API called successfully. Returned lookup data: [{"subscriberId":"http://localhost:9060/ONDC/ONDC-Protocol-Hyperlocal/1.0.13","ukId":"22a8a67a-76d9-459b-867c-085dda2939ec","brId":"22a8a67a-76d9-459b-867c-085dda2939ec","country":"IND","city":"std:080","domain":"nic2004:52110","signingPublicKey":"QSax2KT4UiTUWUqoVUaEcWhBcGTTNu+Sf8EMDRY1GaE=","encrPublicKey":"O74ukMymk4KZnVs3sZhU2U7RXpaZ/qiOUMk5NWt6rbI=","validFrom":"2022-04-05T05:56:52.470618Z3","validUntil":"2026-04-05T05:56:52.470618Z7","created":"2026-04-05T05:56:52.470618Z7","updated":"2026-04-05T05:56:52.470618Z7"},{"subscriberId":"http://localhost:9050/ONDC/ONDC-Protocol-Hyperlocal/1.0.13","ukId":"22a8a67a-76d9-459b-867c-085dda2939ec","brId":"22a8a67a-76d9-459b-867c-085dda2939ec","country":"IND","city":"std:080","domain":"nic2004:52110","signingPublicKey":"QSax2KT4UiTUWUqoVUaEcWhBcGTTNu+Sf8EMDRY1GaE=","encrPublicKey":"O74ukMymk4KZnVs3sZhU2U7RXpaZ/qiOUMk5NWt6rbI=","validFrom":"2022-04-05T05:56:52.470618Z3","validUntil":"2026-04-05T05:56:52.470618Z7","created":"2026-04-05T05:56:52.470618Z7","updated":"2026-04-05T05:56:52.470618Z7"}]
Seller response which I got is: {"message":{"ack":{"status":"ACK"}},"error":{"type":"CONTEXT-ERROR","code":"code","path":"path","message":"message from retail1"}}
Seller response which I got is: {"message":{"ack":{"status":"ACK"}},"error":{"type":"CONTEXT-ERROR","code":"code","path":"path","message":"message from retail2"}}
